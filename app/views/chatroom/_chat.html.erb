<div class="ui raised padded blue secondary small segment container">

  <h2 class="ui header center aligned">
    <span class="content">Chatroom</span>
    <div class="sub header">Stay connected with your loved ones</div>
  </h2>

  <%= turbo_stream_from "chatroom_channel" %>

  <div class="ui segment container minimal comments" style="overflow-y: scroll; max-height: 64vh" id="chat-container">
    <%= turbo_frame_tag "chat" do %>

      <% if logged_in? %>
        <% @messages.each do |message| %>
          <%= render "message", message: message %>
        <% end %>
      <% else %>
        <%= render "chat_placeholder" %>
      <% end %>

    <% end %>
  </div>

  <%= form_with scope: :message, url: message_path, role: "form", class: "ui form items", id: "message-form" do |f| %>
    <div class="field item">
      <%= f.text_field :body, placeholder: "Enter your message...", id: "message-field" %>
      <%= f.submit "Send", class: "ui right floated blue button" %>
    </div>
  <% end %>

</div>
